//-- copyright
// OpenProject is a project management system.
// Copyright (C) 2012-2017 the OpenProject Foundation (OPF)
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License version 3.
//
// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:
// Copyright (C) 2006-2017 Jean-Philippe Lang
// Copyright (C) 2010-2013 the ChiliProject Team
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License
// as published by the Free Software Foundation; either version 2
// of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program; if not, write to the Free Software
// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
//
// See doc/COPYRIGHT.rdoc for more details.
//++

// Styles taken from jquery-dropdown plugin:
// https://github.com/plapier/jquery-dropdown
// (dual MIT/GPL-Licensed)


.dropdown.dropdownToolbar
  margin: 10px 0 0 0

#column-context-menu .menu
  margin: 0

.dropdown
  // Will be overridden by the js code but having this here will prevent the
  // dropdown to displayed in the upper right corner until the js sets the
  // position explicitly.
  visibility: hidden

  // Avoid a context menu that MAY get too large for the screen
  // to exceed it, but rather limit its height to the view port.
  &.-overflow-in-view
    max-height: 100vh
    overflow: auto

.dropdown,
.toolbar .legacy-actions-more
  position: absolute
  z-index: 9999999

.toolbar .legacy-actions-more
  right: 0

.dropdown .dropdown-menu,
.dropdown .dropdown-panel,
.toolbar .legacy-actions-more
  min-width: 200px
  list-style: none
  background: #FFF
  border: solid 1px #DDD
  border: solid 1px rgba(0, 0, 0, .2)
  border-radius: 0
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.15)
  overflow: visible
  padding: 3px 0
  margin: 0

.dropdown-menu.-empty
  visibility: hidden

.dropdown .dropdown-panel
  padding: 10px

.dropdown.dropdown-tip
  margin-top: 8px

.dropdown.dropdown-tip:before
  position: absolute
  top: -6px
  left: 9px
  content: ''
  border-left: 7px solid transparent
  border-right: 7px solid transparent
  border-bottom: 7px solid #CCC
  border-bottom-color: rgba(0, 0, 0, 0.2)
  display: inline-block

.dropdown.dropdown-tip.dropdown-anchor-right:before
  left: auto
  right: 9px

.dropdown.dropdown-tip:after
  position: absolute
  top: -5px
  left: 10px
  content: ''
  border-left: 6px solid transparent
  border-right: 6px solid transparent
  border-bottom: 6px solid #FFF
  display: inline-block

.dropdown.dropdown-tip.dropdown-anchor-right:after
  left: auto
  right: 10px

.dropdown.dropdown-scroll .dropdown-menu,
.dropdown.dropdown-scroll .dropdown-panel
  max-height: 358px
  overflow: auto

.dropdown .dropdown-menu,
.toolbar .legacy-actions-more
  LI
    list-style: none
    padding: 0
    margin: 0
    line-height: 20px

.dropdown .dropdown-menu,
.toolbar .legacy-actions-more
  LI > A,
  LABEL,
  .menu-item
    display: block
    @include varprop(color, context-menu-unselected-font-color)
    text-decoration: none
    padding: 4px 13px 4px 10px
    white-space: nowrap
    font-weight: normal

    &:hover
      background-color: #F0F0F0
      @include varprop(color, context-menu-hover-font-color)
      cursor: pointer

    .icon-hierarchy
      padding-right: 5px
      font-size: 20px

    .no-icon
      margin-left: 19.09px //for whatever reasons it is the right dimension

  LI > A.inactive
    color: #999999

.dropdown LI > A.dropdown-menu-hasicons
  display: block
  @include varprop(color, context-menu-unselected-font-color)
  text-decoration: none
  padding: 3px 10px
  white-space: nowrap

.dropdown .dropdown-menu .dropdown-divider
  font-size: 1px
  border-top: solid 1px #E5E5E5
  padding: 0
  margin: 3px 0

/* Icon Examples - icons courtesy of http://p.yusukekamiyamane.com/ */
.dropdown.has-icons LI > A
  padding-left: 30px
  background-position: 8px center
  background-repeat: no-repeat

// extended styles
.wp-create-button li
  float: none !important
